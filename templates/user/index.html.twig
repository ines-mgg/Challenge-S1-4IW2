{% extends 'dashboard/base.html.twig' %} {% block title %}User {% endblock %} {%
block body %} {% embed '_composants/tables/_table.html.twig' %} {% block tTitle
%}Tous les utilisateurs {% endblock %} {% block thead %}
<th class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">
  Id
</th>
<th class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">
  Nom Complet
</th>
<th class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">
  Compagnie Id
</th>
<th class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">
  Email
</th>
<th class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">
  Roles
</th>
<th class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">
  Status du compte
</th>
<th class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">
  Date de création
</th>
{% endblock %} {% block tbody %} {% for user in users %}
<tr class="hover:bg-gray-100 dark:hover:bg-gray-700">
  <td
    class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"
  >
    {{ user.id }}
  </td>
  <td
    class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"
  >
    {{ user.firstname }} {{ user.lastname }}
  </td>
  <td
    class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"
  >
    {{ user.company.id }}
  </td>
  <td
    class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"
  >
    {{ user.email }}
  </td>
  <td
    class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"
  >
    {{ user.roles ? user.roles|json_encode : '' }}
  </td>
  <td
    class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"
  >
    {{ user.isVerified ? "Vérifié" : "Non vérifié" }}
  </td>
  <td
    class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"
  >
    {{ user.createdAt ? user.createdAt|date('d/m/Y') : '' }}
  </td>
  <td
    class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"
  >
    <a
      class="inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
      href="{{ path('app_user_edit', { id: user.id }) }}"
      >Editer</a
    >
    <form
      method="post"
      action="{{ path('app_user_delete', { id: user.id }) }}"
      onsubmit="return confirm('Voulez-vous supprimer cet utilisateur ?');"
    >
      <input
        type="hidden"
        name="_token"
        value="{{ csrf_token('delete' ~ user.id) }}"
      />
      <button class="btn text-red-600 hover:text-red-800">Supprimer</button>
    </form>
  </td>
</tr>
{% else %}
<tr>
  <td colspan="10">no records found</td>
</tr>
{% endfor %} {% endblock %} {% endembed %} {% endblock %}
